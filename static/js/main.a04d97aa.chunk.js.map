{"version":3,"sources":["pages/Login.js","pages/Register.js","pages/TodoForm.js","pages/Todo.js","pages/complete.js","pages/DetailTodo.js","App.js","index.js"],"names":["App","navigate","useNavigate","useState","username","setUserName","password","setPassword","event","a","preventDefault","fetch","method","headers","body","JSON","stringify","response","json","data","user","localStorage","setItem","alert","console","log","onSubmit","value","onChange","e","target","type","placeholder","onClick","getItem","then","firstName","setFirstName","lastName","setLastName","email","setEmail","status","TodoForm","completed","todos","setTodos","popupActive","setPopupActive","newTodo","setNewTodo","description","setDescription","useEffect","GetTodos","queryParam","res","catch","err","error","completeTodo","id","map","todo","_id","complete","deleteTodo","filter","addtodo","task","timeDifference","Date","createdAt","className","to","dataTodo","clickTask","current","previous","msPerMinute","msPerHour","msPerDay","msPerMonth","msPerYear","elapsed","Math","round","Todo","usuario","setUsuario","token","jwt","decode","removeItem","path","element","Complete","DetailTodo","useParams","todoData","setTodoData","setTask","files","setFiles","entry","payload","url","name","action","FormData","i","length","append","axios","post","toast","success","multiple","file","href","filename","delete","Login","Register","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a04d97aa.chunk.js","sourcesContent":["import  { useState } from 'react'\nimport { useNavigate} from 'react-router-dom'\n//import jwt from 'jsonwebtoken'\n\nfunction App() {\n  const navigate = useNavigate()\n  \n  const [username, setUserName] = useState('')\n  const [password, setPassword] = useState('')\n\n  async function loginUser(event){\n    event.preventDefault()\n\n      const response = await fetch('http://localhost:3001/api/login', {\n      \n      method: 'POST',\n      headers:{\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({username,password}),\n\n      })\n\n      const data = await response.json()\n\n      if(data.user){\n        localStorage.setItem('token', data.user)\n        alert('login succesful')\n        \n        navigate('/Todo')\n        //console.log(data.user) hÃ¤r ligger token\n\n      }else {\n        alert('please cheack your username and password')\n        \n      }\n      console.log(data)\n  }\n\n  const userAuthenticated= () =>{\n     fetch('http://localhost:3001/isUserAuth', {\n      headers: {\n        \"Authorization\": `Bearer ${localStorage.getItem('token')}` \n    },\n\n     }).then((response) => response.json())\n     .then(data => console.log(data))\n\n       //console.log(response.body);\n  }\n\n  return (\n    <div >\n      <h1>Login</h1>\n      <form onSubmit={loginUser}>\n        \n        <input \n          value={username}\n          onChange={(e) => setUserName(e.target.value)}\n          type=\"text\"\n          placeholder=\"Username\"\n        \n        />\n        \n        <input \n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          type=\"password\"\n          placeholder=\"Password\"\n        \n        />\n\n        <input type=\"submit\" value=\"Login\" onClick={userAuthenticated}/>\n        \n      </form>\n    </div>\n  );\n}\n\nexport default App;","import { useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\n\n\nfunction App() {\n  const navigate = useNavigate()\n\n  const [firstName, setFirstName] = useState('')\n  const [lastName, setLastName] = useState('')\n  const [username, setUserName] = useState('')\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n\n  async function registerUser(event){\n    event.preventDefault()\n\n      const response = await fetch('http://localhost:3001/api/register', {\n      \n      method: 'POST',\n      headers:{\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({firstName,lastName,username,email,password}),\n\n      })\n\n      const data = await response.json()\n\n      if(data.status === 'ok'){\n        navigate('/login')\n        \n      }\n  }\n  \n  return (\n    <div >\n      <h1>Register</h1>\n      <form onSubmit={registerUser}>\n        <input \n          value={firstName}\n          onChange={(e) => setFirstName(e.target.value)}\n          type=\"text\"\n          placeholder=\"First Name\"\n        \n        />\n        <input \n          value={lastName}\n          onChange={(e) => setLastName(e.target.value)}\n          type=\"text\"\n          placeholder=\"Last Name\"\n        \n        />\n        <input \n          value={username}\n          onChange={(e) => setUserName(e.target.value)}\n          type=\"text\"\n          placeholder=\"Username\"\n        \n        />\n        <input \n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          type=\"email\"\n          placeholder=\"Email\"\n        \n        />\n        <input \n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          type=\"password\"\n          placeholder=\"Password\"\n        \n        />\n\n        <input type=\"submit\" value=\"Register\"/>\n        \n      </form>\n    </div>\n  );\n}\n\nexport default App;\n\n","import React, { useState, useEffect } from 'react'\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { Link } from 'react-router-dom'\n\n\n\n\n\nfunction TodoForm({completed}) {\n     const [todos,setTodos] = useState([]);\n     const [popupActive, setPopupActive] = useState(false);\n     const [newTodo, setNewTodo] = useState(\"\");\n     const [description, setDescription] = useState(\"\");\n\n     const navigate = useNavigate()\n\n     \n     \n     \n\n      useEffect(()=>{\n        GetTodos(completed);\n\n        //console.log(todos);\n      }, [])\n\n      const GetTodos = (completed ) =>{\n           let queryParam = \"false\";\n            if (completed) {\n            queryParam = \"true\";\n            }\n            console.log(queryParam)\n          fetch('http://localhost:3001/todos/?completed=' + queryParam, {\n              headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${localStorage.getItem('token')}`\n              },\n          })\n          \n            .then(res => res.json())\n            .then(data => setTodos(data))\n            .catch(err => console.error(\"Error: \", err));\n      }\n\n\n    const completeTodo = async id => {\n        const data = await fetch ('http://localhost:3001/todo/complete/' + id)\n            .then(res => res.json());\n        \n            setTodos(todos => todos.map(todo => {\n                if(todo._id === data._id){\n                    todo.complete = data.complete\n                }\n                return todo;\n            }));\n        \n            \n    }\n  \n    \n    \n\n    const deleteTodo = async id => {\n        const data = await fetch ('http://localhost:3001/todo/delete/' + id, {\n            method: \"DELETE\" })\n            .then(res => res.json());\n\n            setTodos(todos => todos.filter(todo => todo._id !== data._id));\n\n    }\n\n\n\n    const clickTask = (_id) => {\n        const dataTodo = _id\n        \n        console.log(\"id av todo :\",  dataTodo) \n        //navigate('Details' + _id)\n    }\n\n    const updateTodo = async id => {\n        const data = await fetch ('http://localhost:3001/todo/update/' + id, {\n            method: \"PUT\" })\n           \n            .then(res => res.json());\n        \n           \n        \n            //setTodos(todos => todos.filter(todo => todo._id !== data._id));\n\n    }\n\n    const addtodo = async () => {\n        const data = await fetch ('http://localhost:3001/todo/new/', {\n            method: 'POST',\n            headers:{ \"Authorization\": `Bearer ${localStorage.getItem('token')}`,\n            'Content-Type': 'application/json'\n        },\n            body: JSON.stringify({\n                task: newTodo, \n                description: description\n            })\n\n        }).then(res => res.json());\n        //console.log(data);\n        setTodos([...todos, data]);\n        setPopupActive(false);\n        setNewTodo(\"\");\n        setDescription(\"\");\n\n\n\n        const timestamp = timeDifference(new Date(), new Date(data.createdAt));\n    }\n\n  \n    return (\n        <div className= \"todos\" >\n            <h1>Check all your task below </h1>\n            <Link to=\"/complete\" className=\"button\" >Completed Todo </Link>\n\n            { todos.map(todo => (\n            \n            <div \n            className={\"todo \" + (todo.complete ? \"is-complete\" : \"\")}\n                        key={todo._id} onClick={()=> completeTodo(todo._id)}>\n\n                  \n                \n                    <div className=\"checkbox\"></div>\n                    \n                    <div className=\"text\">{todo.task}</div>\n                    <br/>  \n                    <div className=\"description\">{todo.description}</div>\n                    \n                    <div className=\"date\">{(todo.createdAt)}</div>\n                    <Link to={`/detail/${todo._id}`} className=\"button\" onClick={()=>clickTask(todo._id)}>Details</Link>\n                    <div className=\"delete-todo\" onClick={()=> deleteTodo(todo._id)}>x</div>\n               \n                   \n            </div>\n            \n            ))}\n\n\n            <div className=\"addPopup\" onClick={() => setPopupActive(true)}>+</div>\n\n                {popupActive ? (\n                        <div className=\"popup\">\n                            <div className=\"closePopup\" onClick={() => setPopupActive(false)}>x</div>\n                            <div className=\"content\">\n                                <h3>Add Task</h3>\n                                <input\n                                    type=\"text\"\n                                    className=\"add-todo-input\"\n                                    placeholder=\"write your task\"\n                                    onChange={e => setNewTodo(e.target.value)}\n                                    value={newTodo}\n                                />\n                                \n                                <input\n                                    type=\"text\"\n                                    className=\"add-todo-input\"\n                                    placeholder=\"decribe your task\"\n                                    onChange={e => setDescription(e.target.value)}\n                                    value={description}\n                                />\n                                <div className=\"button\" onClick={addtodo}>Create Task</div>\n                            </div>\n                            \n                        </div>\n                ) : ''}\n                \n\n        </div>\n    )\n\n\n    //-------------Calculating the timestamp of the posts -------------\nfunction timeDifference(current, previous) {\n\n    const msPerMinute = 60 * 1000;\n    const msPerHour = msPerMinute * 60;\n    const msPerDay = msPerHour * 24;\n    const msPerMonth = msPerDay * 30;\n    const msPerYear = msPerDay * 365;\n\n    const elapsed = current - previous;\n\n    if (elapsed < msPerMinute) {\n        if(elapsed/1000 < 30) return \"Just now\"\n         return Math.round(elapsed/1000) + ' seconds ago';   \n    }\n\n    else if (elapsed < msPerHour) {\n         return Math.round(elapsed/msPerMinute) + ' minutes ago';   \n    }\n\n    else if (elapsed < msPerDay ) {\n         return Math.round(elapsed/msPerHour ) + ' hours ago';   \n    }\n\n    else if (elapsed < msPerMonth) {\n        return Math.round(elapsed/msPerDay) + ' days ago';   \n    }\n\n    else if (elapsed < msPerYear) {\n        return Math.round(elapsed/msPerMonth) + ' months ago';   \n    }\n\n    else {\n        return Math.round(elapsed/msPerYear ) + ' years ago';   \n    }\n}\n}\n\nexport default TodoForm;\n","import React, {useEffect, useState}from 'react'\nimport jwt from 'jsonwebtoken'\nimport {  Route, Routes, useNavigate } from 'react-router-dom'\nimport { Link } from 'react-router-dom'\n\nimport TodoForm from './TodoForm';\n\n\n\n\nconst Todo = () =>{  \n    const navigate = useNavigate()\n    const [usuario, setUsuario] = useState(\"\")\n    useEffect(() =>{\n        const token = localStorage.getItem('token')\n        if(token){\n            const user = jwt.decode(token)\n            console.log(user)\n            if(!user){\n                localStorage.removeItem('token')\n                navigate('/login')    \n            } \n            else {\n                //usuario = user.firstname\n                setUsuario(user.firstName)\n            }\n        }\n        \n    }, [])\n\n   \nconst Logoutfunction = () =>{\n    //console.log(\"i am the logout button\")\n     \n        localStorage.removeItem('token') \n        navigate('/')\n    \n        \n}\n\n    return(\n        \n        <div>\n            <h1>  Hello {usuario} !! Welcome </h1>\n            \n           \n          \n            <div>\n           \n                    <Routes>\n                        <Route path=\"\" element={<TodoForm completed={false}/>}/>\n                        \n                    </Routes>\n                \n        \n                   \n                <button className=\"button\" onClick={Logoutfunction}>logo ut</button>\n            </div>\n            \n\n        </div>\n    )\n\n    \n}\n\n\n\n\nexport default Todo\n","import React from 'react'\nimport TodoForm from './TodoForm'\nimport {  Route, Routes } from 'react-router-dom'\n\n\nconst Complete = () =>{\n    \n\n\n    return(\n        <div>\n            <h1>complete todos</h1>\n           \n           <TodoForm completed={true}/>\n            \n        </div>\n\n    )\n}\n\nexport default Complete","import { useParams } from \"react-router-dom\"\nimport { useState, useEffect } from \"react\"\nimport axios from 'axios'\nimport { toast } from \"react-toastify\"\n\n\nconst DetailTodo = () =>{\n\n\n    const { id } = useParams()\n    const[todoData, setTodoData]= useState(\"\")\n    const [task, setTask] = useState(\"\")\n    const [description, setDescription] = useState(\"\")\n    const [fileData, setFileData] = useState(\"\")\n    const [files, setFiles] = useState([])\n\n    //----------------Redigera inputs---------\n    const loadTodoDetail = () => {\n\n        fetch(`http://localhost:3001/detail/${id}`,{\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${localStorage.getItem('token')}`\n              }\n        })\n        .then((res) => res.json())\n        .then((data) => setTodoData(data.entry));\n    }\n\n    //loadTodoDetail()\n    useEffect(() => {\n        loadTodoDetail()\n         }, [])\n\n    \n    function handleOnSubmit(e){\n        e.preventDefault()\n        const payload = {task, description}\n        const url = `http://localhost:3001/detail/${id}`\n        const token = localStorage.getItem('token')\n        fetch(url, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${token}`\n            },\n            body: JSON.stringify(payload)\n        })\n        .then(res => res.json())\n        .then(data => console.log(data))\n\n    } \n\n    //-------MULTER--------------------\n\n         function onInputChange(e){\n            console.log(e.target.files)\n            setFiles(e.target.files)\n        }\n        \n         function onFileSubmit(e){\n            e.preventDefault()\n    \n            const data = new FormData()\n            \n            \n            for(let i = 0; i < files.length; i++){\n                data.append(\"file\", files[i])\n            }\n    \n            // data.append(\"file\", files) \n    \n            axios.post(\"http://localhost:3001/upload/\"+ id, data)\n                .then((res) => {\n            \n                    console.log(res.data)\n                    setTodoData(res.data)\n                    toast.success(\"Upload Success\")\n                })\n                .catch((e) => {\n                    console.error(\"Error\", e)\n                    toast.error(\"Upload Error\")\n                })\n                \n        }\n        function deleteFile(filename){\n            axios.delete(\"http://localhost:3001/upload/\"+ id, {data: {filename:filename}})\n            .then((res) => {\n        \n                console.log(res.data)\n                setTodoData(res.data)\n                \n            })\n            .catch((e) => {\n                console.error(\"Error\", e)\n            \n            })\n        } \n\n        //console.log(\"todoss\", todoData)\n        //mostrar una pagina e blanco hasta que se carge\n        if(!todoData)\n        {return null}\n\n    return(\n        <main>\n            <h1>Detail Page of ID { id } </h1>\n            <h2>task: {todoData.task}</h2>\n            <p>Description: {todoData.description}</p>\n            \n            <form  onSubmit={handleOnSubmit}>\n\n                Edit Task: \n                <input\n                type=\"text\" placeholder={todoData.task} name={todoData.task}\n                onChange={e => setTask(e.target.value)}\n                />\n                <br/>\n                Edit Description\n                <textarea \n                type=\"text\" placeholder={todoData.description} value={description}\n                onChange={e => setDescription(e.target.value)}\n                > Write your task here.....</textarea>\n                <br/>\n                <button type=\"submit\">Submit</button>\n            </form>\n            <br/>\n\n            <form method=\"post\" action=\"/upload\" id=\"\" onSubmit={onFileSubmit}  >\n                <label>Upload your file</label>\n                <input \n                    type=\"file\"\n                    onChange={onInputChange} \n                    name=\"file\"\n                    multiple \n                />\n                <button type=\"submit\">Submit</button>\n                <br/>\n                \n            \n            </form>\n        //man kan kalla file vas som helst \n            {todoData.files.map(file => \n            <div key={file}>\n            <a href={`http://localhost:3001/${file}`} >{file}</a>\n            <button onClick={()=> deleteFile(file)} >delete</button>\n            </div> \n            )}\n        </main>\n    )\n}\n\nexport default DetailTodo","import React from 'react';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Todo from './pages/Todo';\n\nimport Complete from './pages/complete';\n//import TodoDetailPage from './pages/TodoDetailPage';\nimport DetailTodo from './pages/DetailTodo'\n//import './index.css';\n//<Route path=\"/todo/:id\" element={<TodoDetailPage/>}/>\n\nconst App = () =>{\n    return <div>\n        <BrowserRouter>\n            <Routes>\n                <Route path=\"/\"  element={<Login/>}/>\n                <Route path=\"/register\"  element={<Register/>}/>\n                <Route path=\"/todo\" element={<Todo/>}/>\n                <Route path=\"/complete\" element={<Complete completed={true}/>}/>\n                <Route path=\"/detail/:id\" element={<DetailTodo />}/>\n                \n               \n            </Routes>\n        </BrowserRouter>\n        </div>\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n<React.StrictMode>\n    <App />\n</React.StrictMode>,\n\ndocument.getElementById('root')\n);\n\n\n"],"sourceRoot":""}