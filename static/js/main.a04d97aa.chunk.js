(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{150:function(e,t,n){},156:function(e,t){},158:function(e,t){},172:function(e,t){},174:function(e,t){},202:function(e,t){},204:function(e,t){},205:function(e,t){},210:function(e,t){},212:function(e,t){},218:function(e,t){},220:function(e,t){},239:function(e,t){},251:function(e,t){},254:function(e,t){},288:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),a=n(45),r=n.n(a),s=(n(150),n(14)),i=n(4),u=n(17),l=n(5),j=n(9),d=n.n(j),h=n(1);var p=function(){var e=Object(i.f)(),t=Object(c.useState)(""),n=Object(l.a)(t,2),o=n[0],a=n[1],r=Object(c.useState)(""),s=Object(l.a)(r,2),j=s[0],p=s[1];function b(){return(b=Object(u.a)(d.a.mark((function t(n){var c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,fetch("http://localhost:3001/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:j})});case 3:return c=t.sent,t.next=6,c.json();case 6:(a=t.sent).user?(localStorage.setItem("token",a.user),alert("login succesful"),e("/Todo")):alert("please cheack your username and password"),console.log(a);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Login"}),Object(h.jsxs)("form",{onSubmit:function(e){return b.apply(this,arguments)},children:[Object(h.jsx)("input",{value:o,onChange:function(e){return a(e.target.value)},type:"text",placeholder:"Username"}),Object(h.jsx)("input",{value:j,onChange:function(e){return p(e.target.value)},type:"password",placeholder:"Password"}),Object(h.jsx)("input",{type:"submit",value:"Login",onClick:function(){fetch("http://localhost:3001/isUserAuth",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}})]})]})};var b=function(){var e=Object(i.f)(),t=Object(c.useState)(""),n=Object(l.a)(t,2),o=n[0],a=n[1],r=Object(c.useState)(""),s=Object(l.a)(r,2),j=s[0],p=s[1],b=Object(c.useState)(""),f=Object(l.a)(b,2),O=f[0],x=f[1],m=Object(c.useState)(""),v=Object(l.a)(m,2),g=v[0],y=v[1],k=Object(c.useState)(""),S=Object(l.a)(k,2),C=S[0],w=S[1];function N(){return(N=Object(u.a)(d.a.mark((function t(n){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,fetch("http://localhost:3001/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:o,lastName:j,username:O,email:g,password:C})});case 3:return c=t.sent,t.next=6,c.json();case 6:"ok"===t.sent.status&&e("/login");case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Register"}),Object(h.jsxs)("form",{onSubmit:function(e){return N.apply(this,arguments)},children:[Object(h.jsx)("input",{value:o,onChange:function(e){return a(e.target.value)},type:"text",placeholder:"First Name"}),Object(h.jsx)("input",{value:j,onChange:function(e){return p(e.target.value)},type:"text",placeholder:"Last Name"}),Object(h.jsx)("input",{value:O,onChange:function(e){return x(e.target.value)},type:"text",placeholder:"Username"}),Object(h.jsx)("input",{value:g,onChange:function(e){return y(e.target.value)},type:"email",placeholder:"Email"}),Object(h.jsx)("input",{value:C,onChange:function(e){return w(e.target.value)},type:"password",placeholder:"Password"}),Object(h.jsx)("input",{type:"submit",value:"Register"})]})]})},f=n(144),O=n.n(f),x=n(145);var m=function(e){var t=e.completed,n=Object(c.useState)([]),o=Object(l.a)(n,2),a=o[0],r=o[1],j=Object(c.useState)(!1),p=Object(l.a)(j,2),b=p[0],f=p[1],O=Object(c.useState)(""),m=Object(l.a)(O,2),v=m[0],g=m[1],y=Object(c.useState)(""),k=Object(l.a)(y,2),S=k[0],C=k[1];Object(i.f)(),Object(c.useEffect)((function(){w(t)}),[]);var w=function(e){var t="false";e&&(t="true"),console.log(t),fetch("http://localhost:3001/todos/?completed="+t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){return r(e)})).catch((function(e){return console.error("Error: ",e)}))},N=function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3001/todo/complete/"+t).then((function(e){return e.json()}));case 2:n=e.sent,r((function(e){return e.map((function(e){return e._id===n._id&&(e.complete=n.complete),e}))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3001/todo/delete/"+t,{method:"DELETE"}).then((function(e){return e.json()}));case 2:n=e.sent,r((function(e){return e.filter((function(e){return e._id!==n._id}))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3001/todo/new/",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({task:v,description:S})}).then((function(e){return e.json()}));case 2:t=e.sent,r([].concat(Object(x.a)(a),[t])),f(!1),g(""),C(""),D(new Date,new Date(t.createdAt));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"todos",children:[Object(h.jsx)("h1",{children:"Check all your task below "}),Object(h.jsx)(s.b,{to:"/complete",className:"button",children:"Completed Todo "}),a.map((function(e){return Object(h.jsxs)("div",{className:"todo "+(e.complete?"is-complete":""),onClick:function(){return N(e._id)},children:[Object(h.jsx)("div",{className:"checkbox"}),Object(h.jsx)("div",{className:"text",children:e.task}),Object(h.jsx)("br",{}),Object(h.jsx)("div",{className:"description",children:e.description}),Object(h.jsx)("div",{className:"date",children:e.createdAt}),Object(h.jsx)(s.b,{to:"/detail/".concat(e._id),className:"button",onClick:function(){return function(e){var t=e;console.log("id av todo :",t)}(e._id)},children:"Details"}),Object(h.jsx)("div",{className:"delete-todo",onClick:function(){return T(e._id)},children:"x"})]},e._id)})),Object(h.jsx)("div",{className:"addPopup",onClick:function(){return f(!0)},children:"+"}),b?Object(h.jsxs)("div",{className:"popup",children:[Object(h.jsx)("div",{className:"closePopup",onClick:function(){return f(!1)},children:"x"}),Object(h.jsxs)("div",{className:"content",children:[Object(h.jsx)("h3",{children:"Add Task"}),Object(h.jsx)("input",{type:"text",className:"add-todo-input",placeholder:"write your task",onChange:function(e){return g(e.target.value)},value:v}),Object(h.jsx)("input",{type:"text",className:"add-todo-input",placeholder:"decribe your task",onChange:function(e){return C(e.target.value)},value:S}),Object(h.jsx)("div",{className:"button",onClick:E,children:"Create Task"})]})]}):""]});function D(e,t){var n=6e4,c=36e5,o=864e5,a=2592e6,r=31536e6,s=e-t;return s<n?s/1e3<30?"Just now":Math.round(s/1e3)+" seconds ago":s<c?Math.round(s/n)+" minutes ago":s<o?Math.round(s/c)+" hours ago":s<a?Math.round(s/o)+" days ago":s<r?Math.round(s/a)+" months ago":Math.round(s/r)+" years ago"}},v=function(){var e=Object(i.f)(),t=Object(c.useState)(""),n=Object(l.a)(t,2),o=n[0],a=n[1];Object(c.useEffect)((function(){var t=localStorage.getItem("token");if(t){var n=O.a.decode(t);console.log(n),n?a(n.firstName):(localStorage.removeItem("token"),e("/login"))}}),[]);return Object(h.jsxs)("div",{children:[Object(h.jsxs)("h1",{children:["  Hello ",o," !! Welcome "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(i.c,{children:Object(h.jsx)(i.a,{path:"",element:Object(h.jsx)(m,{completed:!1})})}),Object(h.jsx)("button",{className:"button",onClick:function(){localStorage.removeItem("token"),e("/")},children:"logo ut"})]})]})},g=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"complete todos"}),Object(h.jsx)(m,{completed:!0})]})},y=n(72),k=n.n(y),S=n(73),C=function(){var e=Object(i.g)().id,t=Object(c.useState)(""),n=Object(l.a)(t,2),o=n[0],a=n[1],r=Object(c.useState)(""),s=Object(l.a)(r,2),u=s[0],j=s[1],d=Object(c.useState)(""),p=Object(l.a)(d,2),b=p[0],f=p[1],O=Object(c.useState)(""),x=Object(l.a)(O,2),m=(x[0],x[1],Object(c.useState)([])),v=Object(l.a)(m,2),g=v[0],y=v[1];return Object(c.useEffect)((function(){fetch("http://localhost:3001/detail/".concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){return a(e.entry)}))}),[]),o?Object(h.jsxs)("main",{children:[Object(h.jsxs)("h1",{children:["Detail Page of ID ",e," "]}),Object(h.jsxs)("h2",{children:["task: ",o.task]}),Object(h.jsxs)("p",{children:["Description: ",o.description]}),Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={task:u,description:b},c="http://localhost:3001/detail/".concat(e),o=localStorage.getItem("token");fetch(c,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))},children:["Edit Task:",Object(h.jsx)("input",{type:"text",placeholder:o.task,name:o.task,onChange:function(e){return j(e.target.value)}}),Object(h.jsx)("br",{}),"Edit Description",Object(h.jsx)("textarea",{type:"text",placeholder:o.description,value:b,onChange:function(e){return f(e.target.value)},children:" Write your task here....."}),Object(h.jsx)("br",{}),Object(h.jsx)("button",{type:"submit",children:"Submit"})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("form",{method:"post",action:"/upload",id:"",onSubmit:function(t){t.preventDefault();for(var n=new FormData,c=0;c<g.length;c++)n.append("file",g[c]);k.a.post("http://localhost:3001/upload/"+e,n).then((function(e){console.log(e.data),a(e.data),S.a.success("Upload Success")})).catch((function(e){console.error("Error",e),S.a.error("Upload Error")}))},children:[Object(h.jsx)("label",{children:"Upload your file"}),Object(h.jsx)("input",{type:"file",onChange:function(e){console.log(e.target.files),y(e.target.files)},name:"file",multiple:!0}),Object(h.jsx)("button",{type:"submit",children:"Submit"}),Object(h.jsx)("br",{})]}),"//man kan kalla file vas som helst",o.files.map((function(t){return Object(h.jsxs)("div",{children:[Object(h.jsx)("a",{href:"http://localhost:3001/".concat(t),children:t}),Object(h.jsx)("button",{onClick:function(){return n=t,void k.a.delete("http://localhost:3001/upload/"+e,{data:{filename:n}}).then((function(e){console.log(e.data),a(e.data)})).catch((function(e){console.error("Error",e)}));var n},children:"delete"})]},t)}))]}):null},w=function(){return Object(h.jsx)("div",{children:Object(h.jsx)(s.a,{children:Object(h.jsxs)(i.c,{children:[Object(h.jsx)(i.a,{path:"/",element:Object(h.jsx)(p,{})}),Object(h.jsx)(i.a,{path:"/register",element:Object(h.jsx)(b,{})}),Object(h.jsx)(i.a,{path:"/todo",element:Object(h.jsx)(v,{})}),Object(h.jsx)(i.a,{path:"/complete",element:Object(h.jsx)(g,{completed:!0})}),Object(h.jsx)(i.a,{path:"/detail/:id",element:Object(h.jsx)(C,{})})]})})})};r.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(w,{})}),document.getElementById("root"))}},[[288,1,2]]]);
//# sourceMappingURL=main.a04d97aa.chunk.js.map